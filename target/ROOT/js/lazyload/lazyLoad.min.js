(function(a){a.fn.lazyLoad=function(f){var e=a(this),c=a(window),h=function(m,k,l){var j=arguments.length;c.bind("scroll",function(){var n=c.height(),o=c.scrollTop()+n;e.each(function(v,r){var w=a(r),x=b.parents?w.parents(b.parents):w.parent(),u=x.offset().top,y=x.height(),s=x.width();if((u+y<=o&&u+y>=o-n)||(u<=o&&u>=o-n)){if(j==3&&!w.attr("src")){var t=(s-k)/2,p=(y-l)/2;w.css({width:k,height:l,marginLeft:t,marginTop:p}).attr("src",m)}var q=w.attr(b.attr);if(!q){return}a("<img src='"+q+"' />").bind("load",function(){w.css({width:"100%",height:"100%",marginLeft:0,marginTop:0,opacity:0}).attr("src",q).removeAttr(b.attr).animate({opacity:1},b.timeout)})}})}).resize(function(){a(this).scroll()}).trigger("scroll")},b={attr:"data-original",defaultImage:null,parents:null,timeout:200,events:"scroll"};a.extend(b,f);var g=b.defaultImage,d=0,i=0;if(g){a("<img src='"+g+"' />").bind("load",function(){var j=new Image();j.src=g;i=j.width;d=j.height;h(g,i,d)})}else{h()}}})(jQuery);